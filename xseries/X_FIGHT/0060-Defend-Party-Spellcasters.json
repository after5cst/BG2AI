{
    "if": [
        "ActionListEmpty()",
        {
            "WeakPlayerAttacked": null
        },
        {
            "SeeTarget": null
        },
        {
            "EnemyInAttackRange": null
        },
        "!InParty(LastSeenBy(Myself))",
        [
            "ModalState(NONE)",
            "ModalState(DETECTTRAPS)"
        ],
        "!StateCheck(Myself,STATE_INVISIBLE)",
        "!CheckStat(Myself,1,SANCTUARY)",
        "WeaponEffectiveVs(LastSeenBy(Myself),MAINHAND)",
        "WeaponCanDamage(LastSeenBy(Myself),MAINHAND)",
        "Global('BDAI_DISABLE_ATTACK','LOCALS',0)",
        {
            "EnemyNotDisabled": null
        }
    ],
    "then": [
        {
            "100": [
                "AttackOneRound(LastSeenBy(Myself))"
            ]
        }
    ],
    "fields": [
        {
            "PLAYER": "1",
            "TARGET": "LastSeenBy(Myself)",
            "LOOK_FOR": "LastAttackerOf(Player1)"
        },
        {
            "PLAYER": "2",
            "TARGET": "LastSeenBy(Myself)",
            "LOOK_FOR": "LastAttackerOf(Player2)"
        },
        {
            "PLAYER": "3",
            "TARGET": "LastSeenBy(Myself)",
            "LOOK_FOR": "LastAttackerOf(Player3)"
        },
        {
            "PLAYER": "4",
            "TARGET": "LastSeenBy(Myself)",
            "LOOK_FOR": "LastAttackerOf(Player4)"
        },
        {
            "PLAYER": "5",
            "TARGET": "LastSeenBy(Myself)",
            "LOOK_FOR": "LastAttackerOf(Player5)"
        },
        {
            "PLAYER": "6",
            "TARGET": "LastSeenBy(Myself)",
            "LOOK_FOR": "LastAttackerOf(Player6)"
        }
    ],
    "name": "Defend-Party-Spellcasters"
}